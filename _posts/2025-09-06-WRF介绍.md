---
layout: post
title: WRF基础介绍
subtitle: WRF
tags: [WRF]
---
![WRF Overview](https://cdn.nlark.com/yuque/0/2023/png/29506801/1685529124332-3bb7965b-066c-4c4e-b205-18e679c5eda3.png)

Weather Research and Forecasting（WRF）是一种由国家大气研究中心（NCAR）、国家海洋和大气管理局（NOAA）及其合作伙伴共同开发的广泛使用的数值天气预测和大气研究工具。**它用于模拟短期天气预报、大气过程和长期气候模拟。** WRF的精度高于传统的数值天气预报模型，并具有更高的时空分辨率，是气象和大气研究社区的重要工具。

WRF用户手册可通过两种方法获取：

1. 下载网址自行下载：[WRF Users' Guide (ucar.edu)](https://www2.mmm.ucar.edu/wrf/users/docs/user_guide_v4/contents.html)
2. 后台回复 `WRF用户手册` 获取。

## WRF的基本结构

![WRF Structure](https://cdn.nlark.com/yuque/0/2023/png/29506801/1685526740516-df275e7a-bd7f-4574-828a-b640dd722094.png)

WRF模式包含**预处理系统WPS、ARW动态求解器**及后处理模块。WPS主要用来定义模拟区域及网格，将外部数据源获得的地面静态数据（如地形、土地利用类型、土壤参数等）插值到模拟域，并将气象数据水平插值到WRF模拟域网格中，为WRF主程序程序提供所需数据。ARW动态求解器是整个WRF模式的核心组成部分，将WPS前处理系统插值处理好的数据转化为指定格式的初始场和边界条件，并进行模式的积分运算。后处理一般采用NCL或者python。

## WRF的基本原理

WRF模式运用F90语言编写，采用完全可压缩及非静力的平衡模型，在**水平方向采用ArakawaC（荒川C）网格点，垂直方向采用eta（地形跟随质量）坐标，时间积分上采用三阶或者四阶的Runge-Kutta算法**。基础方程式由运动方程、连续方程、状态方程、热力学方程、水汽方程等组成，通过将势能、位温导入基础的N-S方程并进行地形坐标变换后得到。

WRF基于用户定义的计算域上这些方程的有限差分或谱离散法，该计算域可以是曲线或伸展的，并且边界条件设置为静态、恒定或时间变化。这使得WRF能够模拟各种天气和气候条件，包括对流和非对流过程、降水、辐射和地表过程。

## WRF的参数化方案

WRF还包括多个物理参数化方案，使用户能够将未在计算域中明确解析的子网格过程纳入模拟。在WRF中使用的物理参数化取决于多种因素，如所模拟的物理进程类型、该进程的尺度以及数值模型的分辨率。这些参数化包括：

1. **微物理过程方案**
   微物理过程可以通过调整温湿场结构及过程中水汽相变潜热的释放、降水粒子的拖拽作用，影响积云对流发生的条件，进而影响积云降水的预报。因此，以积云降水为主要因素的研究中微物理过程方案的选择非常重要。

2. **积云对流方案**
   积云对流过程在暴雨等强降水天气的模拟预报中比较重要。

3. **陆面过程方案**
   中尺度模拟中需要考虑下垫面的非均匀性，且很难对复杂下垫面进行准确描述，即中尺度模式中能否将下垫面复杂性这一因素较为真实的加入到陆-气相互作用的物理过程中。

4. **行星边界层方案**
   行星边界层(PBL)是垂直网格尺度通量的发生地点，它在大气模式中的地位十分重要，不仅能影响低层大气要素，通过边界层的垂直输送也能对高层大气产生影响。

5. **大气辐射方案**
   大气辐射传输方案对于模式模拟非常重要，辐射传输计算的准确度将直接影响到大气热力和动力状况，所以提高辐射传输方案的精确性，能够显著提高模拟降水分布和季节变化特征的能力。

## WRF的输入和输出数据

为初始化WRF模拟，用户必须提供初始条件来定义模型运行开始时的大气状态。这些**初始条件**可能包括大气压力、温度、湿度和风速和方向，以及**地表条件**，如土壤湿度和植被覆盖。WRF模型可以从各种来源获取数据，包括全球和区域再分析数据、卫星数据以及气象站和探空的观测数据。

WRF还需要模型边界处的气象数据，称为**边界条件**，以保持模拟的大气状态和模型域之外的大气状态之间的一致性。这些数据通常从全球模型，如全球预报系统GFS或欧洲中期天气预报中心ECMWF获取。

WRF模拟的输出数据可以采用许多形式，包括大气变量的格网化数据，例如空气温度、风速和风向以及降水，以及大气变量的垂直剖面。WRF输出可以保存在多种文件格式中，与其他建模和分析工具兼容，包括网络常用数据格式NetCDF和GRIB。

## WRF应用

WRF广泛用于许多气象和大气研究应用，包括短期天气预测、季节性和气候预测以及空气质量和大气化学建模。它的高分辨率输出和灵活性使其成为中尺度气象研究、大气边界层过程和边界层相互作用分析以及城市气象研究的重要工具。

WRF被全球的操作预报中心和研究机构广泛使用，包括用于日常天气预报以及有关气候变化的和环境政策的的研究。它已用于广泛的研究，包括：

1. **热带气象和飓风预测**：WRF已广泛用于研究热带风暴和飓风，包括预测风暴强度和路径，估计降水和潜在风暴潮，以及分析气候变化的对热带气旋的影响。
2. **空气污染建模**：WRF用于模拟大气化学输运，分析空气污染物的时间和空间模式，以及预测排放减少政策和其他干预措施对空气质量的影响。
3. **可再生能源预测**：WRF用于模拟风能和太阳能资源，并为可再生能源的功率输出开发概率预测。
4. **气候变化和适应规划**：WRF可以用于基于不同温室气体排放情景调查区域气候的响应。

